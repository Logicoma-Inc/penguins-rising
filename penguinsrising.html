<!DOCTYPE html>
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/>
    <title>Penguins Rising</title>
    <meta name="description" content=""/>
    <style type="text/css" media="screen">
        html, body {
			width:  100%;
			height: 100%;
            margin: 0;
        }
        #container{
            position: relative;
            width: 100%;
        }
        canvas {
       
            width: 100%;
            image-rendering: optimizeSpeed;
            image-rendering: -moz-crisp-edges;
            image-rendering: -webkit-optimize-contrast;
            image-rendering: optimize-contrast;
        }
		</style>
</head>
<body id="body" onload="setup()">
</body>
<canvas id="window"></canvas>
</html>
<script>
var canvas = null;
var ctx = null;
var img = null;
var choc = null;
var frameRate = 1000/60;
var framecount = 0;
var frame = 0;
var frame2 =0;
var assets = [ 60, 90, 150, 180, 210, 180, 150 ,90];
var frames = [];

var onImageLoad = function(){
	console.log("Landscaped:loaded");
    ctx.drawImage(img, 0,0, canvas.width, canvas.height);
	// Draw an image to the canvas at position 192,192.
	// Remember that the drawImage method is attached
	// to the 2D Context, not the canvas element!
	// YOUR CODE HERE
};
var animate = function() {
	ctx.clearRect(0, 0, canvas.width, canvas.height);
	ctx.drawImage(img, 0,0, canvas.width, canvas.height);
	ctx.font = "bold 16px Arial";
	ctx.fillText(String(framecount%60), 20, 20);
	//ctx.drawImage(choc, assets[frame], 123, 30, 30, 60, 60,100 ,100);
	//This will reset frame to zero if it ever goes over frames length.
	//frame = (frame + 1) % assets.length;
	//};
//var animatechoco = function(){
	//ctx.clearRect(0, 0, canvas.width, canvas.height);
	//ctx.drawImage(img, 0,0, canvas.width, canvas.height);
	ctx.drawImage(choc, assets[frame], 123, 30, 30, 160, 160,100 ,100);
	ctx.drawImage(choc, assets[frame2], 123, 30, 30, 260, 260,100 ,100);
	console.log("frame count for choc");
	//This will reset frame to zero if it ever goes over frames length.
	//framecount = (framecount + 1) % frameRate;
	if((framecount % 3) == 0){
	frame = (frame + 1) % assets.length;}
	if((framecount % 10) == 0){
	frame2 = (frame2 + 1) % assets.length;}
	framecount += 1;//(framecount + 1) % 30;
	//setInterval(animatechoco, 1000/20);
};
var setup = function() {
	canvas = document.getElementById("window");
	ctx = canvas.getContext('2d');
	canvas.width = window.innerWidth;
	canvas.height = window.innerHeight;
	img = new Image();
	img.onload = onImageLoad;
	img.src = "landscape.webp";
	choc = new Image();
	choc.onload = function(){
		ctx.drawImage(choc, 60, 123, 30, 30, 60, 60,100 ,100);
	}
	choc.src = 'chocobo.gif';
	setInterval(animate, frameRate);
};
</script>